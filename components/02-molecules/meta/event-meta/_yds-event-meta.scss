@use '../../../00-tokens/tokens';
@use '../../../01-atoms/atoms';

.event-meta__inner:not(.localist) {
  > * {
    border-bottom: var(--border-thickness-1) solid var(--color-divider);
    padding-block-start: var(--size-spacing-6);
    padding-block-end: var(--size-spacing-6);
  }
}

.event-meta {
  color: var(--color-basic-brown-gray);
}

.event-meta__date {
  @include tokens.h3-mallory-compact-book;
}

.event-meta__details {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: var(--size-spacing-6);

  @media (min-width: tokens.$break-mobile) {
    flex-direction: row;
    align-items: center;
  }
}

.event-meta__ctas {
  display: flex;
  flex-wrap: wrap;
  gap: var(--size-spacing-6);
}

.event-meta__address {
  color: var(--color-text);
}

.event-meta__format {
  color: var(--color-text);
}

.event-meta__past-event {
  margin-top: var(--size-spacing-7);
}

// localist
.event-meta__details-wrapper {
  display: flex;
  align-items: center;
  gap: var(--size-spacing-6);

  @media (min-width: tokens.$break-l) {
    flex-flow: row nowrap;
    justify-content: space-between;
  }
}

// cost
.event-meta__cost {
  display: flex;
  flex-direction: column;
}

// all event meta labels
.event-meta__event__label {
  @include tokens.body-s;

  font-weight: var(--font-weights-yalenew-bold);
  color: var(--color-gray-800);
}

// event types
.event-meta__event-types {
  @include atoms.list-reset;

  display: flex;
  flex-flow: row wrap;
  gap: var(--size-spacing-3);
}

.event-meta__event-types__type {
  flex: 1 1 auto;
  background-color: var(--color-gray-100);
}

.event-meta__event-types__type a {
  @include atoms.plain-link;
  @include tokens.body-s;

  display: block;
  padding: var(--size-spacing-3);
  text-align: center;
  color: var(--color-text);
}

// overline for 'online', 'in-person', or `hybrid`
.event-meta__format--overline {
  @include tokens.body-s;

  margin-top: 0;
  margin-bottom: var(--size-spacing-3);
  color: var(--color-gray-500);
  font-variant-caps: small-caps;
  font-variant-numeric: oldstyle-nums;
  text-transform: lowercase;
  letter-spacing: 0.5px;
  width: 100%;
  flex: 1 1 auto;
}

// website link field
.event-meta__event-website-link a {
  @include atoms.plain-link;
  @include tokens.body-s;
}

// multiple dates
.event-meta__multiple-dates {
  @include atoms.list-reset;

  display: flex;
  flex-direction: column;
  gap: var(--size-spacing-6);
  background-color: var(--color-gray-100);
  padding: var(--size-spacing-3);
  color: var(--color-gray-800);

  &[aria-expanded='false'] {
    display: none;
  }
}

.event-meta__more-dates-link {
  display: flex;
  align-items: center;
  gap: var(--size-spacing-3);
}

.event-meta__more-dates-link a {
  @include atoms.plain-link;
  @include tokens.body-default;

  display: flex;
  align-items: center;
  gap: var(--size-spacing-3);
}

.event-meta__icon--show-more-dates {
  display: flex;
  align-items: center;
  gap: var(--size-spacing-3);

  [aria-expanded='true'] & {
    display: none;
  }
}

.event-meta__cta--show-more-dates svg {
  width: var(--size-spacing-6);
  height: var(--size-spacing-6);
}

.event-meta__icon--hide-more-dates {
  display: none;

  [aria-expanded='true'] & {
    display: flex;
    align-items: center;
    gap: var(--size-spacing-3);
  }
}

// map
.event-meta__map {
  display: flex;
  flex-direction: column;
  gap: var(--size-spacing-6);
  padding-top: var(--size-spacing-6);

  &[aria-expanded='false'] {
    visibility: hidden;
    height: 0;
  }
}

.event-meta__event-show-map a {
  @include atoms.plain-link;
  @include tokens.body-default;

  display: flex;
  align-items: center;
  gap: var(--size-spacing-3);
}

.event-meta__cta--show-map svg {
  width: var(--size-spacing-6);
  height: var(--size-spacing-6);
}

.event-meta__icon--hide-map svg {
  transform: rotate(180deg);
}

.event-meta__icon--show-map {
  [aria-expanded='true'] & {
    display: none;
  }
}

.event-meta__icon--hide-map {
  display: none;

  [aria-expanded='true'] & {
    display: flex;
    align-items: center;
    gap: var(--size-spacing-3);
  }
}

// directions
.event-meta__directions-link {
  @include atoms.plain-link;
  @include tokens.body-default;
}
