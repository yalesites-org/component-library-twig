@use '../../00-tokens/tokens';
@use '../../01-atoms/controls/button/yds-button' as button;

.audio-embed {
  @include tokens.spacing-page-section;
}

.audio-embed__content {
  @include tokens.body-s;
}

.audio-embed__content-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--size-spacing-4);
  background-color: var(--color-gray-100);
  padding: var(--size-spacing-4) var(--size-spacing-5);

  [data-component-alignment='left'] & {
    max-width: var(--size-component-layout-width-content);
  }
}

// Player
.audio-embed__player {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--size-spacing-5);

  @media (max-width: tokens.$break-mobile-max) {
    flex-flow: row wrap;
  }
}

.audio-embed__controls {
  display: flex;
  flex-direction: row;
  flex: 0 var(--size-spacing-7);
}

.audio-embed__control {
  @include button.reset;
}

// Play and pause buttons SVG
.audio-embed__icon {
  width: var(--size-spacing-7);
  height: var(--size-spacing-7);
}

// Play and pause buttons
.audio-embed__control--play {
  [is-playing='true'] & {
    display: none;
  }
}

.audio-embed__control--pause {
  display: none;

  [is-playing='true'] & {
    display: block;
  }
}

.audio-embed__icon--pause {
  fill: var(--color-blue-medium);
}

// Time elapsed and total time
.audio-embed__time {
  @include tokens.body-xs;

  display: flex;
  flex-direction: row;
  flex: 0 auto;

  @media (max-width: tokens.$break-mobile-max) {
    flex: 0 1 var(--size-spacing-10);
  }
}

// Progress bar
.audio-embed__progress {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  flex: 0 auto;

  @media (max-width: tokens.$break-mobile-max) {
    flex: 1 calc(100% - (var(--size-spacing-7) + var(--size-spacing-13)));
  }
}

.audio-embed__progress-bar {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;

  input[type='range'] {
    appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
    width: 100%;
    box-sizing: border-box;

    // Slider track
    &::-webkit-slider-runnable-track {
      appearance: none;
      width: 100%;
      height: var(--border-thickness-4);
      cursor: pointer;
      background: var(--color-gray-400);
      position: relative;

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--border-thickness-6);
      }
    }

    &::-moz-range-track {
      width: 100%;
      height: var(--border-thickness-4);
      cursor: pointer;
      background: var(--color-gray-400);
      position: relative;

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--border-thickness-6);
      }
    }

    // Slider thumb
    &::-webkit-slider-thumb {
      appearance: none;
      appearance: none;
      width: var(--size-spacing-4);
      height: var(--size-spacing-4);
      background: var(--color-blue-medium);
      cursor: pointer;
      border-radius: 100%;
      border-color: var(--color-blue-medium);
      margin-top: calc(var(--size-spacing-2) / -1);
      box-shadow: none;

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--size-spacing-5);
        width: var(--size-spacing-5);
      }
    }

    &::-moz-range-thumb {
      appearance: none;
      width: var(--size-spacing-3);
      height: var(--size-spacing-3);
      background: var(--color-blue-medium);
      cursor: pointer;
      border-radius: 100%;
      border-color: var(--color-blue-medium);

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--size-spacing-5);
        width: var(--size-spacing-5);
      }
    }
  }
}

// Speed and volume controls
.audio-embed__speed {
  display: flex;
  align-items: center;
  gap: var(--size-spacing-4);
  flex: 0 auto;
  padding: var(--size-spacing-2) var(--size-spacing-3);
  border: var(--border-thickness-1) solid var(--color-gray-400);
}

.audio-embed__speed-options {
  display: flex;
  flex: 0 auto;
  gap: var(--size-spacing-4);
}

.audio-embed__speed-control {
  @include button.reset;
  @include tokens.body-xs;

  &.active {
    color: var(--color-blue-medium);
    font-weight: 700;
  }
}

.audio-embed__speed-options-control {
  @include button.reset;

  @media (max-width: tokens.$break-mobile-max) {
    height: var(--size-spacing-6);
  }
}

.audio-embed__volume {
  display: flex;
  align-items: center;
  gap: var(--size-spacing-4);
  flex: 1 auto;

  input[type='range'] {
    appearance: none;
    background: transparent;
    cursor: pointer;
    max-width: var(--size-spacing-12);

    // Slider track
    &::-webkit-slider-runnable-track {
      width: 100%;
      height: var(--border-thickness-4);
      cursor: pointer;
      background: var(--color-gray-400);

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--border-thickness-6);
      }
    }

    &::-moz-range-track {
      width: 100%;
      height: var(--border-thickness-4);
      cursor: pointer;
      background: var(--color-gray-400);

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--border-thickness-6);
      }
    }

    // Slider thumb
    &::-webkit-slider-thumb {
      appearance: none;
      appearance: none;
      width: var(--size-spacing-4);
      height: var(--size-spacing-4);
      background: var(--color-blue-medium);
      cursor: pointer;
      border-radius: 100%;
      border-color: var(--color-blue-medium);
      margin-top: calc(var(--size-spacing-2) / -1);
      box-shadow: none;

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--size-spacing-5);
        width: var(--size-spacing-5);
      }
    }

    &::-moz-range-thumb {
      appearance: none;
      width: var(--size-spacing-3);
      height: var(--size-spacing-3);
      background: var(--color-blue-medium);
      cursor: pointer;
      border-radius: 100%;
      border-color: var(--color-blue-medium);

      @media (max-width: tokens.$break-mobile-max) {
        height: var(--size-spacing-5);
        width: var(--size-spacing-5);
      }
    }
  }

  @media (max-width: tokens.$break-mobile-max) {
    flex: 1 auto;
    justify-content: flex-end;
  }
}

.audio-embed__icon--volume {
  flex: 0 var(--size-spacing-5);
  height: var(--size-spacing-5);
  width: var(--size-spacing-5);

  @media (max-width: tokens.$break-mobile-max) {
    flex: 0 var(--size-spacing-6);
    height: var(--size-spacing-6);
    width: var(--size-spacing-6);
  }
}

.audio-embed__icon--speed {
  flex: 0 var(--size-spacing-5);
  height: var(--size-spacing-5);
  width: var(--size-spacing-5);

  [options-open='true'] & {
    fill: var(--color-blue-medium);
  }

  @media (max-width: tokens.$break-mobile-max) {
    height: var(--size-spacing-6);
    width: var(--size-spacing-6);
  }
}
