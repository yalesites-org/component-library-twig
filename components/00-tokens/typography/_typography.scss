body {
  background-color: var(--color-background);
  color: var(--color-text);
  font: var(--font-style-body-default);
}

code {
  --color-code-border: var(--color-gray-200);
  --color-code-background: var(--color-gray-100);

  border: var(--border-thickness-1) solid var(--color-code-border);
  border-radius: var(--radius-4);
  padding: 0 var(--size-spacing-3);
  background-color: var(--color-code-background);

  [data-component-theme='one'] &,
  [data-component-theme='three'] &,
  [data-basic-theme='blue-yale'] &,
  [data-basic-theme='gray-700'] & {
    --color-code-border: var(--color-gray-800);
    --color-code-background: var(--color-gray-600);
  }
}

// Heading mixins
@mixin h1-yale-new {
  font: var(--font-style-heading-h1-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h2-yale-new {
  font: var(--font-style-heading-h2-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h3-yale-new {
  font: var(--font-style-heading-h3-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h4-yale-new {
  font: var(--font-style-heading-h4-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h5-yale-new {
  font: var(--font-style-heading-h5-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h6-yale-new {
  font: var(--font-style-heading-h6-yale-new);
  text-transform: var(--font-text-transform-h6-yale-new);
  font-variant-numeric: oldstyle-nums;
}

@mixin h1-mallory-compact-medium {
  font: var(--font-style-heading-h1-mallory-compact-medium);
  letter-spacing: var(--font-letter-spacing-h1-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h2-mallory-compact-medium {
  font: var(--font-style-heading-h2-mallory-compact-medium);
  letter-spacing: var(--font-letter-spacing-h2-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h3-mallory-compact-medium {
  font: var(--font-style-heading-h3-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h4-mallory-compact-medium {
  font: var(--font-style-heading-h4-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h5-mallory-compact-medium {
  font: var(--font-style-heading-h5-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h6-mallory-compact-medium {
  font: var(--font-style-heading-h6-mallory-compact-medium);
  letter-spacing: var(--font-letter-spacing-h6-mallory-compact-medium);
  text-transform: var(--font-text-transform-h6-mallory-compact-medium);
  font-variant-numeric: oldstyle-nums;
}

@mixin h1-mallory-compact-book {
  font: var(--font-style-heading-h1-mallory-compact-book);
  letter-spacing: var(--font-letter-spacing-h1-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

@mixin h2-mallory-compact-book {
  font: var(--font-style-heading-h2-mallory-compact-book);
  letter-spacing: var(--font-letter-spacing-h2-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

@mixin h3-mallory-compact-book {
  font: var(--font-style-heading-h3-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

@mixin h4-mallory-compact-book {
  font: var(--font-style-heading-h4-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

@mixin h5-mallory-compact-book {
  font: var(--font-style-heading-h5-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

@mixin h6-mallory-compact-book {
  font: var(--font-style-heading-h6-mallory-compact-book);
  letter-spacing: var(--font-letter-spacing-h6-mallory-compact-book);
  text-transform: var(--font-text-transform-h6-mallory-compact-book);
  font-variant-numeric: oldstyle-nums;
}

// Body mixins
@mixin body-xl {
  font: var(--font-style-body-xl);
}

@mixin body-l {
  font: var(--font-style-body-l);
}

@mixin body-default {
  font: var(--font-style-body-default);
}

@mixin body-default-condensed {
  font: var(--font-style-body-default-condensed);
}

@mixin body-s {
  font: var(--font-style-body-s);
}

@mixin body-s-condensed {
  font: var(--font-style-body-s-condensed);
}

@mixin body-xs {
  font: var(--font-style-body-xs);
}

@mixin truncate-text($lines: 1) {
  max-width: 100%;
  text-overflow: ellipsis;
  width: fit-content;
  white-space: nowrap;
  line-clamp: $lines;
  -webkit-line-clamp: $lines;
  overflow: hidden;
}

@mixin heading($level, $style: null) {
  body[data-font-pairing='yalenew'] &,
  body:not([data-font-pairing]) & {
    @if $level == 'h1' {
      @include h1-yale-new;
    } @else if $level == 'h2' {
      @include h2-yale-new;
    } @else if $level == 'h3' {
      @include h3-yale-new;
    } @else if $level == 'h4' {
      @include h4-yale-new;
    } @else if $level == 'h5' {
      @include h5-yale-new;
    } @else if $level == 'h6' {
      @include h6-yale-new;
    }
  }

  body[data-font-pairing='mallory'] & {
    @if $style == 'medium' {
      // Original behavior: Medium weight (500) - now requires explicit 'medium' parameter
      @if $level == 'h1' {
        @include h1-mallory-compact-medium;
      } @else if $level == 'h2' {
        @include h2-mallory-compact-medium;
      } @else if $level == 'h3' {
        @include h3-mallory-compact-medium;
      } @else if $level == 'h4' {
        @include h4-mallory-compact-medium;
      } @else if $level == 'h5' {
        @include h5-mallory-compact-medium;
      } @else if $level == 'h6' {
        @include h6-mallory-compact-medium;
      }
    } @else {
      // New default behavior: Book weight (400) - was previously Medium weight (500)
      @if $level == 'h1' {
        @include h1-mallory-compact-book;
      } @else if $level == 'h2' {
        @include h2-mallory-compact-book;
      } @else if $level == 'h3' {
        @include h3-mallory-compact-book;
      } @else if $level == 'h4' {
        @include h4-mallory-compact-book;
      } @else if $level == 'h5' {
        @include h5-mallory-compact-book;
      } @else if $level == 'h6' {
        @include h6-mallory-compact-book;
      }
    }
  }
}
