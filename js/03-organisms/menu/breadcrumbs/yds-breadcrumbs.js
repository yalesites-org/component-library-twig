Drupal.behaviors.breadcrumbs={attach(t){const e=t.querySelector(".breadcrumbs__wrapper--collapsible");if(!e)return;const r=t.querySelector(".breadcrumbs--collapsible"),n=t.querySelector(".breadcrumbs__menu"),i=t.querySelectorAll(".breadcrumbs__control"),l=t.querySelectorAll(".breadcrumbs__link"),o=t.querySelector(".breadcrumbs__button"),c=t.querySelector(".breadcrumbs__inner"),a=t.querySelector(".breadcrumbs__control--left").offsetWidth;let u;function s(){const t=r.getBoundingClientRect().left,e=r.getBoundingClientRect().right,n=r.querySelector(".breadcrumbs__item:first-child").getBoundingClientRect().left,i=Math.floor(r.querySelector(".breadcrumbs__item:last-child").getBoundingClientRect().right);n<t?i>e?"both"!==u&&(u="both",c.setAttribute("data-scroll-indicator","both")):"left"!==u&&(u="left",c.setAttribute("data-scroll-indicator","left")):i>e?"right"!==u&&(u="right",c.setAttribute("data-scroll-indicator","right")):(u="none",c.setAttribute("data-scroll-indicator","none"))}function d(t){n.scrollLeft="right"===t?function(){const t=r.getBoundingClientRect().left,e=r.querySelectorAll(".breadcrumbs__item"),n=[];return e.forEach((e=>{e.getBoundingClientRect().right>t+a&&n.push(e)})),n[1].offsetLeft-a}():function(){const t=r.getBoundingClientRect().left,e=r.querySelectorAll(".breadcrumbs__item"),n=[];return e.forEach((e=>{e.getBoundingClientRect().left<t&&n.push(e)})),n[n.length-1].offsetLeft-a}()}o&&o.addEventListener("click",(()=>{e.setAttribute("data-breadcrumbs-overflow","expanded"),o.setAttribute("aria-expanded","true"),s()})),l.forEach((t=>{t.addEventListener("focus",(()=>{!function(t){const e=r.getBoundingClientRect().left,i=r.getBoundingClientRect().right;Math.floor(t.getBoundingClientRect().right)>i-a?"right"!==c.getAttribute("data-scroll-indicator")&&"both"!==c.getAttribute("data-scroll-indicator")||(n.scrollLeft=t.parentElement.offsetLeft-a):Math.floor(t.getBoundingClientRect().left)<e+a&&("left"!==c.getAttribute("data-scroll-indicator")&&"both"!==c.getAttribute("data-scroll-indicator")||(n.scrollLeft=t.parentElement.offsetLeft-a))}(t)}))})),s(),i.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),t.classList.contains("breadcrumbs__control--right")?d("right"):d("left")}))})),n.addEventListener("scroll",s),window.addEventListener("resize",function(t){let e;return function(r){e&&clearTimeout(e),e=setTimeout(t,200,r)}}((function(){s()})))}};