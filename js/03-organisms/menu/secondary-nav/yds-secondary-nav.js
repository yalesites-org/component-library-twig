Drupal.behaviors.secondaryNav={attach(e){const t=e.querySelector(".secondary-nav"),n=e.querySelectorAll(".secondary-nav__toggle--level-0"),i=e=>{e.setAttribute("aria-expanded",!1);const t=e.closest("li"),n=t?.querySelector(".secondary-nav__menu--level-1");n&&n.removeAttribute("data-menu-direction")},r=()=>{n.forEach((e=>{i(e)}))};n.forEach((e=>{e.addEventListener("click",(()=>{var t;"true"==("true"===(t=e).getAttribute("aria-expanded")?"false":"true")?(r(),(e=>{const t=e.nextElementSibling;e.setAttribute("aria-expanded",!0),t.style.setProperty("--open-nav-height",`${t.scrollHeight}px`);const n=e.closest("li"),i=n.querySelector(".secondary-nav__menu--level-1"),r=n.offsetWidth;if(i){const e=n.getBoundingClientRect(),t=n.closest(".in-this-section__inner").getBoundingClientRect(),l=i.offsetWidth||304,a=t.right,o=e.left+l;o>a||o>window.innerWidth?(i.setAttribute("data-menu-direction","left"),i.style.left="auto",i.style.right=t.right-e.right+"px"):(i.setAttribute("data-menu-direction","right"),i.style.left=e.left-t.left+"px",i.style.right=""),i.style.maxWidth=`${r+150}px`}})(t),function(e,t){const n=e.parentElement,r=t.querySelectorAll(".secondary-nav__link"),l=r[r.length-1];n.addEventListener("keydown",(t=>{("Tab"===t.key||9===t.keyCode)&&(t.shiftKey?document.activeElement===e&&i(e):document.activeElement===l&&i(e))}))}(t,t.nextElementSibling)):i(t)}))})),window.addEventListener("click",(e=>{t&&(t.contains(e.target)||r())}))}};